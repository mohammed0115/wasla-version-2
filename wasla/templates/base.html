{% load static i18n %}
<!doctype html>
{% get_current_language as LANGUAGE_CODE %}
{% get_current_language_bidi as LANGUAGE_BIDI %}
<html lang="{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_BIDI %}rtl{% else %}ltr{% endif %}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Wasla{% endblock %}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/app.css' %}">
  {% if LANGUAGE_BIDI %}
    <link rel="stylesheet" href="{% static 'css/rtl.css' %}">
  {% else %}
    <link rel="stylesheet" href="{% static 'css/ltr.css' %}">
  {% endif %}
  {% block extra_css %}{% endblock %}
</head>
<body class="{% block body_class %}{% endblock %}">
  {% block global_lang_switcher %}
    <div class="lang-switcher" aria-label="Language">
      <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        <input name="next" type="hidden" value="{{ request.get_full_path }}">
        {% if LANGUAGE_CODE == 'ar' %}
          <input type="hidden" name="language" value="en">
          <button type="submit" class="btn btn-soft">English</button>
        {% else %}
          <input type="hidden" name="language" value="ar">
          <button type="submit" class="btn btn-soft">العربية</button>
        {% endif %}
      </form>
    </div>
  {% endblock %}
  {% block body %}{% endblock %}
  <script src="{% static 'js/app.js' %}"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
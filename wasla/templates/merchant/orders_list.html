{% extends "merchant/base.html" %}
{% load i18n %}

{% block merchant_content %}
  <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px;">
    <div>
      <h2 style="margin:0;">{% trans "Orders" %}</h2>
      <p style="margin:6px 0 0; opacity:.8;">{% trans "View order details and update statuses." %}</p>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      {% if orders %}
        <div style="overflow:auto;">
          <table class="table" style="width:100%; border-collapse:collapse;">
            <thead>
              <tr style="text-align:left;">
                <th style="padding:10px;">{% trans "Order" %}</th>
                <th style="padding:10px;">{% trans "Customer" %}</th>
                <th style="padding:10px;">{% trans "Total" %}</th>
                <th style="padding:10px;">{% trans "Status" %}</th>
                <th style="padding:10px;">{% trans "Payment" %}</th>
                <th style="padding:10px;">{% trans "Created" %}</th>
              </tr>
            </thead>
            <tbody>
              {% for o in orders %}
                <tr>
                  <td style="padding:10px; font-weight:700;">
                    <a href="{% url 'stores:merchant_order_detail' o.id %}">#{{ o.id }}</a>
                  </td>
                  <td style="padding:10px;">{{ o.customer_email|default:"â€”" }}</td>
                  <td style="padding:10px;">{{ o.total_amount }} {{ o.currency }}</td>
                  <td style="padding:10px;"><span class="badge">{{ o.get_status_display }}</span></td>
                  <td style="padding:10px;">{{ o.get_payment_status_display }}</td>
                  <td style="padding:10px; opacity:.8;">{{ o.created_at|date:"Y-m-d H:i" }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <div style="text-align:center; padding: 28px 12px;">
          <div style="font-weight:700; font-size:18px;">{% trans "No orders yet" %}</div>
          <div style="opacity:.8; margin-top: 6px;">{% trans "Orders will show up here after customers checkout." %}</div>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}

{# Shared wizard header for store setup #}
<div class="card" style="padding:16px; margin-bottom:12px;">
  <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;">
    <div>
      <div class="kicker">إعداد المتجر</div>
      <h2 style="margin:6px 0 0; font-size:20px;">{{ wizard_title|default:"خطوات الإعداد" }}</h2>
      {% if wizard_progress %}
        <div class="muted" style="margin-top:6px;">
          التقدم: {{ wizard_progress.percent }}% — الخطوة {{ wizard_progress.step }} من 4
        </div>
      {% endif %}
    </div>
    <div style="min-width:220px; width:320px; max-width:100%;">
      <div style="height:10px; background:#eef2ff; border-radius:999px; overflow:hidden;">
        <div style="height:100%; width:{% if wizard_progress %}{{ wizard_progress.percent }}{% else %}0{% endif %}%; background:#1F4FD8;"></div>
      </div>
    </div>
  </div>

  <div style="display:flex; gap:10px; align-items:center; margin-top:14px; flex-wrap:wrap;">
    {% with s=wizard_progress.step|default:step|default:1 %}
      {% for i in "1234" %}
        {% with n=forloop.counter %}
        <div style="display:flex; align-items:center; gap:8px;">
          <div style="width:28px; height:28px; border-radius:999px; display:flex; align-items:center; justify-content:center;
            {% if n <= s %}background:#1F4FD8; color:#fff;{% else %}background:#f1f5f9; color:#475569;{% endif %} font-weight:800;">
            {{ n }}
          </div>
          <div class="muted" style="font-weight:700;">
            {% if n == 1 %}بيانات المتجر{% elif n == 2 %}الدفع{% elif n == 3 %}الشحن{% else %}الإطلاق{% endif %}
          </div>
        </div>
        {% if not forloop.last %}
          <div style="flex:1; height:2px; background:{% if n < s %}#1F4FD8{% else %}#e2e8f0{% endif %}; min-width:40px;"></div>
        {% endif %}
        {% endwith %}
      {% endfor %}
    {% endwith %}
  </div>
</div>

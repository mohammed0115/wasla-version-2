{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "Dashboard" %} | {% trans "Wasla" %}{% endblock %}

{% block extra_css %}
   <link rel="stylesheet" href="{% static 'css/app.css' %}">
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
  
{% endblock %}

{% block global_lang_switcher %}{% endblock %}

{% block body %}
<div class="dash">
  <aside class="dash__sidebar">
    <a class="dash__brand" href="{% url 'tenants:dashboard_home' %}">
      <div>
        <strong>{% trans "Wasla" %}</strong>
        <small>{% trans "Merchant Dashboard" %}</small>
      </div>
    </a>

    <nav class="dash__nav">
      <a class="dash__link" href="{% url 'tenants:dashboard_home' %}">{% trans "Overview" %}</a>
      <a class="dash__link" href="{% url 'tenants:dashboard_orders' %}">{% trans "Orders" %}</a>
      <a class="dash__link" href="{% url 'ai_web:dashboard_ai_tools' %}">{% trans "AI Tools" %}</a>
      <a class="dash__link" href="{% url 'settlements_web:dashboard_settlements_list' %}">{% trans "Settlements" %}</a>
      <a class="dash__link" href="{% url 'themes_web:dashboard_themes' %}">{% trans "Themes" %}</a>
      <a class="dash__link" href="{% url 'tenants:dashboard_setup_store' %}">{% trans "Store Setup" %}</a>
      <a class="dash__link" href="{% url 'tenants:store_settings_update' %}">{% trans "Store Settings" %}</a>
    </nav>

    <div class="card dash__sidebar-panel">
      <div class="dash__sidebar-title">{% trans "Language" %}</div>
      <form action="{% url 'set_language' %}" method="post" class="dash__lang-form">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.get_full_path }}">
        <button class="btn btn-soft" type="submit" name="language" value="ar">العربية</button>
        <button class="btn btn-soft" type="submit" name="language" value="en">English</button>
      </form>
      <a class="btn btn-soft btn-block dash__logout" href="{% url 'accounts:logout' %}">{% trans "Logout" %}</a>
    </div>
  </aside>

  <main class="dash__main">
    <header class="dash__topbar">
      <div class="dash__title-wrap">
        <span class="dash__tenant">{{ tenant.slug|default:"—" }}</span>
        <h1 class="dash__title">{% block page_title %}{% endblock %}</h1>
        <p class="dash__subtitle">{% block page_subtitle %}{% endblock %}</p>
      </div>
      <div>
        <a class="btn btn-primary" href="{% url 'tenants:storefront_home' %}">{% trans "View storefront" %}</a>
      </div>
    </header>

    <section class="dash__content">
      {% if messages %}
        <div class="dash__messages">
          {% for message in messages %}
            <div class="card dash__message">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}

      {% block content %}{% endblock %}
    </section>
  </main>
</div>
{% endblock %}
